import{Q as jt}from"./QPage.90e2086d.js";import{z as lt,A as pt,B as At,C as kt,u as Qt,a as Wt,j as Xt,D as Gt,E as wt,t as Yt,y as Jt,F as _t,Q as ie,s as Zt,v as re,G as el,r as nt,x as $e,w as Je}from"./QInput.e9f06dc6.js";import{c as ut,d as tl,f as ll,e as nl}from"./render.4fefe3eb.js";import{c as ul,b as ol,d as Ke,R as al,e as il}from"./QBtn.ef158a46.js";import{c as y,h as V,g as ot,v as se,n as rl,r as z,w as Ce,_ as sl,a4 as cl,S as dl,a0 as fl,a as Ft,b as ee,$ as vl,a5 as ml,q as Ze,a6 as Ee,D as Sl,s as xe,a1 as gl,a7 as hl,E as ce,F as pe,O,K as I,N as de,J as P,M as te,I as yl,H as bl,G as wl,a8 as Vt}from"./index.49cd158c.js";var _l=ut({name:"QField",inheritAttrs:!1,props:lt,emits:pt,setup(){return At(kt())}});const Vl={xs:8,sm:10,md:14,lg:20,xl:24};var xl=ut({name:"QChip",props:{...Qt,...ul,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:n,emit:r}){const{proxy:{$q:m}}=ot(),F=Wt(e,m),l=ol(e,Vl),x=y(()=>e.selected===!0||e.icon!==void 0),c=y(()=>e.selected===!0?e.iconSelected||m.iconSet.chip.selected:e.icon),S=y(()=>e.iconRemove||m.iconSet.chip.remove),M=y(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),d=y(()=>{const _=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(_?` text-${_} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(M.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(F.value===!0?" q-chip--dark q-dark":"")}),w=y(()=>{const _=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},Q={..._,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||m.lang.label.remove};return{chip:_,remove:Q}});function p(_){_.keyCode===13&&s(_)}function s(_){e.disable||(r("update:selected",!e.selected),r("click",_))}function A(_){(_.keyCode===void 0||_.keyCode===13)&&(se(_),e.disable===!1&&(r("update:modelValue",!1),r("remove")))}function H(){const _=[];M.value===!0&&_.push(V("div",{class:"q-focus-helper"})),x.value===!0&&_.push(V(Ke,{class:"q-chip__icon q-chip__icon--left",name:c.value}));const Q=e.label!==void 0?[V("div",{class:"ellipsis"},[e.label])]:void 0;return _.push(V("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},ll(n.default,Q))),e.iconRight&&_.push(V(Ke,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&_.push(V(Ke,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:S.value,...w.value.remove,onClick:A,onKeyup:A})),_}return()=>{if(e.modelValue===!1)return;const _={class:d.value,style:l.value};return M.value===!0&&Object.assign(_,w.value.chip,{onClick:s,onKeyup:p}),tl("div",_,H(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[al,e.ripple]])}}});let Ue=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const n=document.createElement("div");Object.assign(n.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(n),e.scrollLeft=-1e3,Ue=e.scrollLeft>=0,e.remove()}const W=1e3,Cl=["start","center","end","start-force","center-force","end-force"],qt=Array.prototype.filter,pl=window.getComputedStyle(document.body).overflowAnchor===void 0?rl:function(e,n){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const r=e.children||[];qt.call(r,F=>F.dataset&&F.dataset.qVsAnchor!==void 0).forEach(F=>{delete F.dataset.qVsAnchor});const m=r[n];m&&m.dataset&&(m.dataset.qVsAnchor="")}))};function Ae(e,n){return e+n}function et(e,n,r,m,F,l,x,c){const S=e===window?document.scrollingElement||document.documentElement:e,M=F===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-x-c,scrollMaxSize:0,offsetStart:-x,offsetEnd:-c};if(F===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=S.scrollLeft,d.scrollViewSize+=S.clientWidth),d.scrollMaxSize=S.scrollWidth,l===!0&&(d.scrollStart=(Ue===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=S.scrollTop,d.scrollViewSize+=S.clientHeight),d.scrollMaxSize=S.scrollHeight),r!==null)for(let w=r.previousElementSibling;w!==null;w=w.previousElementSibling)w.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=w[M]);if(m!==null)for(let w=m.nextElementSibling;w!==null;w=w.nextElementSibling)w.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=w[M]);if(n!==e){const w=S.getBoundingClientRect(),p=n.getBoundingClientRect();F===!0?(d.offsetStart+=p.left-w.left,d.offsetEnd-=p.width):(d.offsetStart+=p.top-w.top,d.offsetEnd-=p.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function xt(e,n,r,m){n==="end"&&(n=(e===window?document.body:e)[r===!0?"scrollWidth":"scrollHeight"]),e===window?r===!0?(m===!0&&(n=(Ue===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-n),window.scrollTo(n,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,n):r===!0?(m===!0&&(n=(Ue===!0?e.scrollWidth-e.offsetWidth:0)-n),e.scrollLeft=n):e.scrollTop=n}function De(e,n,r,m){if(r>=m)return 0;const F=n.length,l=Math.floor(r/W),x=Math.floor((m-1)/W)+1;let c=e.slice(l,x).reduce(Ae,0);return r%W!==0&&(c-=n.slice(l*W,r).reduce(Ae,0)),m%W!==0&&m!==F&&(c-=n.slice(m,x*W).reduce(Ae,0)),c}const Al={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},kl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Al};function Fl({virtualScrollLength:e,getVirtualScrollTarget:n,getVirtualScrollEl:r,virtualScrollItemSizeComputed:m}){const F=ot(),{props:l,emit:x,proxy:c}=F,{$q:S}=c;let M,d,w,p=[],s;const A=z(0),H=z(0),_=z({}),Q=z(null),$=z(null),Y=z(null),T=z({from:0,to:0}),D=y(()=>l.tableColspan!==void 0?l.tableColspan:100);m===void 0&&(m=y(()=>l.virtualScrollItemSize));const J=y(()=>m.value+";"+l.virtualScrollHorizontal),ke=y(()=>J.value+";"+l.virtualScrollSliceRatioBefore+";"+l.virtualScrollSliceRatioAfter);Ce(ke,()=>{Z()}),Ce(J,fe);function fe(){ne(d,!0)}function Fe(a){ne(a===void 0?d:a)}function le(a,f){const g=n();if(g==null||g.nodeType===8)return;const B=et(g,r(),Q.value,$.value,l.virtualScrollHorizontal,S.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd);w!==B.scrollViewSize&&Z(B.scrollViewSize),ve(g,B,Math.min(e.value-1,Math.max(0,parseInt(a,10)||0)),0,Cl.indexOf(f)>-1?f:d>-1&&a>d?"end":"start")}function X(){const a=n();if(a==null||a.nodeType===8)return;const f=et(a,r(),Q.value,$.value,l.virtualScrollHorizontal,S.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd),g=e.value-1,B=f.scrollMaxSize-f.offsetStart-f.offsetEnd-H.value;if(M===f.scrollStart)return;if(f.scrollMaxSize<=0){ve(a,f,0,0);return}w!==f.scrollViewSize&&Z(f.scrollViewSize),qe(T.value.from);const R=Math.floor(f.scrollMaxSize-Math.max(f.scrollViewSize,f.offsetEnd)-Math.min(s[g],f.scrollViewSize/2));if(R>0&&Math.ceil(f.scrollStart)>=R){ve(a,f,g,f.scrollMaxSize-f.offsetEnd-p.reduce(Ae,0));return}let C=0,h=f.scrollStart-f.offsetStart,L=h;if(h<=B&&h+f.scrollViewSize>=A.value)h-=A.value,C=T.value.from,L=h;else for(let b=0;h>=p[b]&&C<g;b++)h-=p[b],C+=W;for(;h>0&&C<g;)h-=s[C],h>-f.scrollViewSize?(C++,L=h):L=s[C]+h;ve(a,f,C,L)}function ve(a,f,g,B,R){const C=typeof R=="string"&&R.indexOf("-force")>-1,h=C===!0?R.replace("-force",""):R,L=h!==void 0?h:"start";let b=Math.max(0,g-_.value[L]),K=b+_.value.total;K>e.value&&(K=e.value,b=Math.max(0,K-_.value.total)),M=f.scrollStart;const Se=b!==T.value.from||K!==T.value.to;if(Se===!1&&h===void 0){ze(g);return}const{activeElement:Be}=document,G=Y.value;Se===!0&&G!==null&&G!==Be&&G.contains(Be)===!0&&(G.addEventListener("focusout",Ie),setTimeout(()=>{G!==null&&G.removeEventListener("focusout",Ie)})),pl(G,g-b);const Te=h!==void 0?s.slice(b,g).reduce(Ae,0):0;if(Se===!0){const ue=K>=T.value.from&&b<=T.value.to?T.value.to:K;T.value={from:b,to:ue},A.value=De(p,s,0,b),H.value=De(p,s,K,e.value),requestAnimationFrame(()=>{T.value.to!==K&&M===f.scrollStart&&(T.value={from:T.value.from,to:K},H.value=De(p,s,K,e.value))})}requestAnimationFrame(()=>{if(M!==f.scrollStart)return;Se===!0&&qe(b);const ue=s.slice(b,g).reduce(Ae,0),ge=ue+f.offsetStart+A.value,Re=ge+s[g];let Oe=ge+B;if(h!==void 0){const je=ue-Te,U=f.scrollStart+je;Oe=C!==!0&&U<ge&&Re<U+f.scrollViewSize?U:h==="end"?Re-f.scrollViewSize:ge-(h==="start"?0:Math.round((f.scrollViewSize-s[g])/2))}M=Oe,xt(a,Oe,l.virtualScrollHorizontal,S.lang.rtl),ze(g)})}function qe(a){const f=Y.value;if(f){const g=qt.call(f.children,b=>b.classList&&b.classList.contains("q-virtual-scroll--skip")===!1),B=g.length,R=l.virtualScrollHorizontal===!0?b=>b.getBoundingClientRect().width:b=>b.offsetHeight;let C=a,h,L;for(let b=0;b<B;){for(h=R(g[b]),b++;b<B&&g[b].classList.contains("q-virtual-scroll--with-prev")===!0;)h+=R(g[b]),b++;L=h-s[C],L!==0&&(s[C]+=L,p[Math.floor(C/W)]+=L),C++}}}function Ie(){Y.value!==null&&Y.value!==void 0&&Y.value.focus()}function ne(a,f){const g=1*m.value;(f===!0||Array.isArray(s)===!1)&&(s=[]);const B=s.length;s.length=e.value;for(let C=e.value-1;C>=B;C--)s[C]=g;const R=Math.floor((e.value-1)/W);p=[];for(let C=0;C<=R;C++){let h=0;const L=Math.min((C+1)*W,e.value);for(let b=C*W;b<L;b++)h+=s[b];p.push(h)}d=-1,M=void 0,A.value=De(p,s,0,T.value.from),H.value=De(p,s,T.value.to,e.value),a>=0?(qe(T.value.from),ee(()=>{le(a)})):me()}function Z(a){if(a===void 0&&typeof window!="undefined"){const h=n();h!=null&&h.nodeType!==8&&(a=et(h,r(),Q.value,$.value,l.virtualScrollHorizontal,S.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd).scrollViewSize)}w=a;const f=parseFloat(l.virtualScrollSliceRatioBefore)||0,g=parseFloat(l.virtualScrollSliceRatioAfter)||0,B=1+f+g,R=a===void 0||a<=0?1:Math.ceil(a/m.value),C=Math.max(1,R,Math.ceil((l.virtualScrollSliceSize>0?l.virtualScrollSliceSize:10)/B));_.value={total:Math.ceil(C*B),start:Math.ceil(C*f),center:Math.ceil(C*(.5+f)),end:Math.ceil(C*(1+f)),view:R}}function He(a,f){const g=l.virtualScrollHorizontal===!0?"width":"height",B={["--q-virtual-scroll-item-"+g]:m.value+"px"};return[a==="tbody"?V(a,{class:"q-virtual-scroll__padding",key:"before",ref:Q},[V("tr",[V("td",{style:{[g]:`${A.value}px`,...B},colspan:D.value})])]):V(a,{class:"q-virtual-scroll__padding",key:"before",ref:Q,style:{[g]:`${A.value}px`,...B}}),V(a,{class:"q-virtual-scroll__content",key:"content",ref:Y,tabindex:-1},f.flat()),a==="tbody"?V(a,{class:"q-virtual-scroll__padding",key:"after",ref:$},[V("tr",[V("td",{style:{[g]:`${H.value}px`,...B},colspan:D.value})])]):V(a,{class:"q-virtual-scroll__padding",key:"after",ref:$,style:{[g]:`${H.value}px`,...B}})]}function ze(a){d!==a&&(l.onVirtualScroll!==void 0&&x("virtualScroll",{index:a,from:T.value.from,to:T.value.to-1,direction:a<d?"decrease":"increase",ref:c}),d=a)}Z();const me=sl(X,S.platform.is.ios===!0?120:35);cl(()=>{Z()});let i=!1;return dl(()=>{i=!0}),fl(()=>{if(i!==!0)return;const a=n();M!==void 0&&a!==void 0&&a!==null&&a.nodeType!==8?xt(a,M,l.virtualScrollHorizontal,S.lang.rtl):le(d)}),Ft(()=>{me.cancel()}),Object.assign(c,{scrollTo:le,reset:fe,refresh:Fe}),{virtualScrollSliceRange:T,virtualScrollSliceSizeComputed:_,setVirtualScrollSize:Z,onVirtualScrollEvt:me,localResetVirtualScroll:ne,padVirtualScroll:He,scrollTo:le,reset:fe,refresh:Fe}}const Ct=e=>["add","add-unique","toggle"].includes(e),ql=".*+?^${}()|[]\\",Il=Object.keys(lt);var tt=ut({name:"QSelect",inheritAttrs:!1,props:{...kl,...Xt,...lt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Ct},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...pt,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:n,emit:r}){const{proxy:m}=ot(),{$q:F}=m,l=z(!1),x=z(!1),c=z(-1),S=z(""),M=z(!1),d=z(!1);let w=null,p,s,A,H=null,_,Q,$,Y;const T=z(null),D=z(null),J=z(null),ke=z(null),fe=z(null),Fe=Gt(e),le=el(St),X=y(()=>Array.isArray(e.options)?e.options.length:0),ve=y(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:qe,virtualScrollSliceSizeComputed:Ie,localResetVirtualScroll:ne,padVirtualScroll:Z,onVirtualScrollEvt:He,scrollTo:ze,setVirtualScrollSize:me}=Fl({virtualScrollLength:X,getVirtualScrollTarget:Ot,getVirtualScrollEl:vt,virtualScrollItemSizeComputed:ve}),i=kt(),a=y(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,o=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const u=e.mapOptions===!0&&p!==void 0?p:[],v=o.map(q=>Bt(q,u));return e.modelValue===null&&t===!0?v.filter(q=>q!==null):v}return o}),f=y(()=>{const t={};return Il.forEach(o=>{const u=e[o];u!==void 0&&(t[o]=u)}),t}),g=y(()=>e.optionsDark===null?i.isDark.value:e.optionsDark),B=y(()=>_t(a.value)),R=y(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||a.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),C=y(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),h=y(()=>X.value===0),L=y(()=>a.value.map(t=>j.value(t)).join(", ")),b=y(()=>e.displayValue!==void 0?e.displayValue:L.value),K=y(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Se=y(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||a.value.some(K.value))),Be=y(()=>i.focused.value===!0?e.tabindex:-1),G=y(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":l.value===!0?"true":"false","aria-controls":`${i.targetUid.value}_lb`};return c.value>=0&&(t["aria-activedescendant"]=`${i.targetUid.value}_${c.value}`),t}),Te=y(()=>({id:`${i.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ue=y(()=>a.value.map((t,o)=>({index:o,opt:t,html:K.value(t),selected:!0,removeAtIndex:zt,toggleOption:oe,tabindex:Be.value}))),ge=y(()=>{if(X.value===0)return[];const{from:t,to:o}=qe.value;return e.options.slice(t,o).map((u,v)=>{const q=he.value(u)===!0,k=t+v,E={clickable:!0,active:!1,activeClass:je.value,manualFocus:!0,focused:!1,disable:q,tabindex:-1,dense:e.optionsDense,dark:g.value,role:"option",id:`${i.targetUid.value}_${k}`,onClick:()=>{oe(u)}};return q!==!0&&(Xe(u)===!0&&(E.active=!0),c.value===k&&(E.focused=!0),E["aria-selected"]=E.active===!0?"true":"false",F.platform.is.desktop===!0&&(E.onMousemove=()=>{l.value===!0&&ye(k)})),{index:k,opt:u,html:K.value(u),label:j.value(u),selected:E.active,focused:E.focused,toggleOption:oe,setOptionIndex:ye,itemProps:E}})}),Re=y(()=>e.dropdownIcon!==void 0?e.dropdownIcon:F.iconSet.arrow.dropdown),Oe=y(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),je=y(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),U=y(()=>We(e.optionValue,"value")),j=y(()=>We(e.optionLabel,"label")),he=y(()=>We(e.optionDisable,"disable")),Le=y(()=>a.value.map(t=>U.value(t))),It=y(()=>{const t={onInput:St,onChange:le,onKeydown:ft,onKeyup:ct,onKeypress:dt,onFocus:rt,onClick(o){s===!0&&xe(o)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=le,t});Ce(a,t=>{p=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&i.innerLoading.value!==!0&&(x.value!==!0&&l.value!==!0||B.value!==!0)&&(A!==!0&&Ve(),(x.value===!0||l.value===!0)&&be(""))},{immediate:!0}),Ce(()=>e.fillInput,Ve),Ce(l,Ge),Ce(X,Ut);function at(t){return e.emitValue===!0?U.value(t):t}function Qe(t){if(t>-1&&t<a.value.length)if(e.multiple===!0){const o=e.modelValue.slice();r("remove",{index:t,value:o.splice(t,1)[0]}),r("update:modelValue",o)}else r("update:modelValue",null)}function zt(t){Qe(t),i.focus()}function it(t,o){const u=at(t);if(e.multiple!==!0){e.fillInput===!0&&Me(j.value(t),!0,!0),r("update:modelValue",u);return}if(a.value.length===0){r("add",{index:0,value:u}),r("update:modelValue",e.multiple===!0?[u]:u);return}if(o===!0&&Xe(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const v=e.modelValue.slice();r("add",{index:v.length,value:u}),v.push(u),r("update:modelValue",v)}function oe(t,o){if(i.editable.value!==!0||t===void 0||he.value(t)===!0)return;const u=U.value(t);if(e.multiple!==!0){o!==!0&&(Me(e.fillInput===!0?j.value(t):"",!0,!0),ae()),D.value!==null&&D.value.focus(),(a.value.length===0||Ee(U.value(a.value[0]),u)!==!0)&&r("update:modelValue",e.emitValue===!0?u:t);return}if((s!==!0||M.value===!0)&&i.focus(),rt(),a.value.length===0){const k=e.emitValue===!0?u:t;r("add",{index:0,value:k}),r("update:modelValue",e.multiple===!0?[k]:k);return}const v=e.modelValue.slice(),q=Le.value.findIndex(k=>Ee(k,u));if(q>-1)r("remove",{index:q,value:v.splice(q,1)[0]});else{if(e.maxValues!==void 0&&v.length>=e.maxValues)return;const k=e.emitValue===!0?u:t;r("add",{index:v.length,value:k}),v.push(k)}r("update:modelValue",v)}function ye(t){if(F.platform.is.desktop!==!0)return;const o=t>-1&&t<X.value?t:-1;c.value!==o&&(c.value=o)}function Pe(t=1,o){if(l.value===!0){let u=c.value;do u=wt(u+t,-1,X.value-1);while(u!==-1&&u!==c.value&&he.value(e.options[u])===!0);c.value!==u&&(ye(u),ze(u),o!==!0&&e.useInput===!0&&e.fillInput===!0&&Ne(u>=0?j.value(e.options[u]):_))}}function Bt(t,o){const u=v=>Ee(U.value(v),t);return e.options.find(u)||o.find(u)||t}function We(t,o){const u=t!==void 0?t:o;return typeof u=="function"?u:v=>v!==null&&typeof v=="object"&&u in v?v[u]:v}function Xe(t){const o=U.value(t);return Le.value.find(u=>Ee(u,o))!==void 0}function rt(t){e.useInput===!0&&D.value!==null&&(t===void 0||D.value===t.target&&t.target.value===L.value)&&D.value.select()}function st(t){Sl(t,27)===!0&&l.value===!0&&(xe(t),ae(),Ve()),r("keyup",t)}function ct(t){const{value:o}=t.target;if(t.keyCode!==void 0){st(t);return}if(t.target.value="",w!==null&&(clearTimeout(w),w=null),Ve(),typeof o=="string"&&o.length!==0){const u=o.toLocaleLowerCase(),v=k=>{const E=e.options.find(N=>k.value(N).toLocaleLowerCase()===u);return E===void 0?!1:(a.value.indexOf(E)===-1?oe(E):ae(),!0)},q=k=>{v(U)!==!0&&(v(j)===!0||k===!0||be(o,!0,()=>q(!0)))};q()}else i.clearValue(t)}function dt(t){r("keypress",t)}function ft(t){if(r("keydown",t),gl(t)===!0)return;const o=S.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),u=t.shiftKey!==!0&&e.multiple!==!0&&(c.value>-1||o===!0);if(t.keyCode===27){Ze(t);return}if(t.keyCode===9&&u===!1){we();return}if(t.target===void 0||t.target.id!==i.targetUid.value||i.editable.value!==!0)return;if(t.keyCode===40&&i.innerLoading.value!==!0&&l.value===!1){se(t),_e();return}if(t.keyCode===8&&e.hideSelected!==!0&&S.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Qe(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&r("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof S.value!="string"||S.value.length===0)&&(se(t),c.value=-1,Pe(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&Ie.value!==void 0&&(se(t),c.value=Math.max(-1,Math.min(X.value,c.value+(t.keyCode===33?-1:1)*Ie.value.view)),Pe(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(se(t),Pe(t.keyCode===38?-1:1,e.multiple));const v=X.value;if(($===void 0||Y<Date.now())&&($=""),v>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||$.length!==0)){l.value!==!0&&_e(t);const q=t.key.toLocaleLowerCase(),k=$.length===1&&$[0]===q;Y=Date.now()+1500,k===!1&&(se(t),$+=q);const E=new RegExp("^"+$.split("").map(Ye=>ql.indexOf(Ye)>-1?"\\"+Ye:Ye).join(".*"),"i");let N=c.value;if(k===!0||N<0||E.test(j.value(e.options[N]))!==!0)do N=wt(N+1,-1,v-1);while(N!==c.value&&(he.value(e.options[N])===!0||E.test(j.value(e.options[N]))!==!0));c.value!==N&&ee(()=>{ye(N),ze(N),N>=0&&e.useInput===!0&&e.fillInput===!0&&Ne(j.value(e.options[N]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||$!=="")&&(t.keyCode!==9||u===!1))){if(t.keyCode!==9&&se(t),c.value>-1&&c.value<v){oe(e.options[c.value]);return}if(o===!0){const q=(k,E)=>{if(E){if(Ct(E)!==!0)return}else E=e.newValueMode;if(k==null)return;Me("",e.multiple!==!0,!0),(E==="toggle"?oe:it)(k,E==="add-unique"),e.multiple!==!0&&(D.value!==null&&D.value.focus(),ae())};if(e.onNewValue!==void 0?r("newValue",S.value,q):q(S.value),e.multiple!==!0)return}l.value===!0?we():i.innerLoading.value!==!0&&_e()}}function vt(){return s===!0?fe.value:J.value!==null&&J.value.contentEl!==null?J.value.contentEl:void 0}function Ot(){return vt()}function Mt(){return e.hideSelected===!0?[]:n["selected-item"]!==void 0?ue.value.map(t=>n["selected-item"](t)).slice():n.selected!==void 0?[].concat(n.selected()):e.useChips===!0?ue.value.map((t,o)=>V(xl,{key:"option-"+o,removable:i.editable.value===!0&&he.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:Be.value,onRemove(){t.removeAtIndex(o)}},()=>V("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:j.value(t.opt)}))):[V("span",{[Se.value===!0?"innerHTML":"textContent"]:b.value})]}function mt(){if(h.value===!0)return n["no-option"]!==void 0?n["no-option"]({inputValue:S.value}):void 0;const t=n.option!==void 0?n.option:u=>V(re,{key:u.index,...u.itemProps},()=>V(ie,()=>V(Zt,()=>V("span",{[u.html===!0?"innerHTML":"textContent"]:u.label}))));let o=Z("div",ge.value.map(t));return n["before-options"]!==void 0&&(o=n["before-options"]().concat(o)),nl(n["after-options"],o)}function Et(t,o){const u=o===!0?{...G.value,...i.splitAttrs.attributes.value}:void 0,v={ref:o===!0?D:void 0,key:"i_t",class:R.value,style:e.inputStyle,value:S.value!==void 0?S.value:"",type:"search",...u,id:o===!0?i.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...It.value};return t!==!0&&s===!0&&(Array.isArray(v.class)===!0?v.class=[...v.class,"no-pointer-events"]:v.class+=" no-pointer-events"),V("input",v)}function St(t){w!==null&&(clearTimeout(w),w=null),!(t&&t.target&&t.target.qComposing===!0)&&(Ne(t.target.value||""),A=!0,_=S.value,i.focused.value!==!0&&(s!==!0||M.value===!0)&&i.focus(),e.onFilter!==void 0&&(w=setTimeout(()=>{w=null,be(S.value)},e.inputDebounce)))}function Ne(t){S.value!==t&&(S.value=t,r("inputValue",t))}function Me(t,o,u){A=u!==!0,e.useInput===!0&&(Ne(t),(o===!0||u!==!0)&&(_=t),o!==!0&&be(t))}function be(t,o,u){if(e.onFilter===void 0||o!==!0&&i.focused.value!==!0)return;i.innerLoading.value===!0?r("filterAbort"):(i.innerLoading.value=!0,d.value=!0),t!==""&&e.multiple!==!0&&a.value.length!==0&&A!==!0&&t===j.value(a.value[0])&&(t="");const v=setTimeout(()=>{l.value===!0&&(l.value=!1)},10);H!==null&&clearTimeout(H),H=v,r("filter",t,(q,k)=>{(o===!0||i.focused.value===!0)&&H===v&&(clearTimeout(H),typeof q=="function"&&q(),d.value=!1,ee(()=>{i.innerLoading.value=!1,i.editable.value===!0&&(o===!0?l.value===!0&&ae():l.value===!0?Ge(!0):l.value=!0),typeof k=="function"&&ee(()=>{k(m)}),typeof u=="function"&&ee(()=>{u(m)})}))},()=>{i.focused.value===!0&&H===v&&(clearTimeout(H),i.innerLoading.value=!1,d.value=!1),l.value===!0&&(l.value=!1)})}function Dt(){return V(Yt,{ref:J,class:C.value,style:e.popupContentStyle,modelValue:l.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&h.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:g.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Oe.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Te.value,onScrollPassive:He,onBeforeShow:ht,onBeforeHide:Ht,onShow:Tt},mt)}function Ht(t){yt(t),we()}function Tt(){me()}function Rt(t){xe(t),D.value!==null&&D.value.focus(),M.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Lt(t){xe(t),ee(()=>{M.value=!1})}function Pt(){const t=[V(_l,{class:`col-auto ${i.fieldClass.value}`,...f.value,for:i.targetUid.value,dark:g.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:S.value.length!==0,...i.splitAttrs.listeners.value,onFocus:Rt,onBlur:Lt},{...n,rawControl:()=>i.getControl(!0),before:void 0,after:void 0})];return l.value===!0&&t.push(V("div",{ref:fe,class:C.value+" scroll",style:e.popupContentStyle,...Te.value,onClick:Ze,onScrollPassive:He},mt())),V(Jt,{ref:ke,modelValue:x.value,position:e.useInput===!0?"top":void 0,transitionShow:Q,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:ht,onBeforeHide:Nt,onHide:$t,onShow:Kt},()=>V("div",{class:"q-select__dialog"+(g.value===!0?" q-select__dialog--dark q-dark":"")+(M.value===!0?" q-select__dialog--focused":"")},t))}function Nt(t){yt(t),ke.value!==null&&ke.value.__updateRefocusTarget(i.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),i.focused.value=!1}function $t(t){ae(),i.focused.value===!1&&r("blur",t),Ve()}function Kt(){const t=document.activeElement;(t===null||t.id!==i.targetUid.value)&&D.value!==null&&D.value!==t&&D.value.focus(),me()}function we(){x.value!==!0&&(c.value=-1,l.value===!0&&(l.value=!1),i.focused.value===!1&&(H!==null&&(clearTimeout(H),H=null),i.innerLoading.value===!0&&(r("filterAbort"),i.innerLoading.value=!1,d.value=!1)))}function _e(t){i.editable.value===!0&&(s===!0?(i.onControlFocusin(t),x.value=!0,ee(()=>{i.focus()})):i.focus(),e.onFilter!==void 0?be(S.value):(h.value!==!0||n["no-option"]!==void 0)&&(l.value=!0))}function ae(){x.value=!1,we()}function Ve(){e.useInput===!0&&Me(e.multiple!==!0&&e.fillInput===!0&&a.value.length!==0&&j.value(a.value[0])||"",!0,!0)}function Ge(t){let o=-1;if(t===!0){if(a.value.length!==0){const u=U.value(a.value[0]);o=e.options.findIndex(v=>Ee(U.value(v),u))}ne(o)}ye(o)}function Ut(t,o){l.value===!0&&i.innerLoading.value===!1&&(ne(-1,!0),ee(()=>{l.value===!0&&i.innerLoading.value===!1&&(t>o?ne():Ge(!0))}))}function gt(){x.value===!1&&J.value!==null&&J.value.updatePosition()}function ht(t){t!==void 0&&xe(t),r("popupShow",t),i.hasPopupOpen=!0,i.onControlFocusin(t)}function yt(t){t!==void 0&&xe(t),r("popupHide",t),i.hasPopupOpen=!1,i.onControlFocusout(t)}function bt(){s=F.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?n["no-option"]!==void 0||e.onFilter!==void 0||h.value===!1:!0),Q=F.platform.is.ios===!0&&s===!0&&e.useInput===!0?"fade":e.transitionShow}return vl(bt),ml(gt),bt(),Ft(()=>{w!==null&&clearTimeout(w)}),Object.assign(m,{showPopup:_e,hidePopup:ae,removeAtIndex:Qe,add:it,toggleOption:oe,getOptionIndex:()=>c.value,setOptionIndex:ye,moveOptionSelection:Pe,filter:be,updateMenuPosition:gt,updateInputValue:Me,isOptionSelected:Xe,getEmittingOptionValue:at,isOptionDisabled:(...t)=>he.value.apply(null,t)===!0,getOptionValue:(...t)=>U.value.apply(null,t),getOptionLabel:(...t)=>j.value.apply(null,t)}),Object.assign(i,{innerValue:a,fieldClass:y(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:T,targetRef:D,hasValue:B,showPopup:_e,floatingLabel:y(()=>e.hideSelected!==!0&&B.value===!0||typeof S.value=="number"||S.value.length!==0||_t(e.displayValue)),getControlChild:()=>{if(i.editable.value!==!1&&(x.value===!0||h.value!==!0||n["no-option"]!==void 0))return s===!0?Pt():Dt();i.hasPopupOpen===!0&&(i.hasPopupOpen=!1)},controlEvents:{onFocusin(t){i.onControlFocusin(t)},onFocusout(t){i.onControlFocusout(t,()=>{Ve(),we()})},onClick(t){if(Ze(t),s!==!0&&l.value===!0){we(),D.value!==null&&D.value.focus();return}_e(t)}},getControl:t=>{const o=Mt(),u=t===!0||x.value!==!0||s!==!0;if(e.useInput===!0)o.push(Et(t,u));else if(i.editable.value===!0){const q=u===!0?G.value:void 0;o.push(V("input",{ref:u===!0?D:void 0,key:"d_t",class:"q-select__focus-target",id:u===!0?i.targetUid.value:void 0,value:b.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...q,onKeydown:ft,onKeyup:st,onKeypress:dt})),u===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&o.push(V("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:ct}))}if(Fe.value!==void 0&&e.disable!==!0&&Le.value.length!==0){const q=Le.value.map(k=>V("option",{value:k,selected:!0}));o.push(V("select",{class:"hidden",name:Fe.value,multiple:e.multiple},q))}const v=e.useInput===!0||u!==!0?void 0:i.splitAttrs.attributes.value;return V("div",{class:"q-field__native row items-center",...v,...i.splitAttrs.listeners.value},o)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[V(Ke,{class:"q-select__dropdown-icon"+(l.value===!0?" rotate-180":""),name:Re.value})]:null}),At(i)}});const zl={class:"new-transaction-form"},Bl={class:"q-gutter-md row items-start"},Ol={__name:"NewTransactionForm",setup(e){const n=nt(),r=z(""),m=z(""),F=z(""),l=z(""),x=z(""),c=z(""),S=z(""),M=["H","S"];function d(){if(F.value=="H"){const p=l.value;l.value=x.value,x.value=p}n.transactions.push({id:n.transactions.length+1,date:r.value,documentField:c.value,bookingText:S.value,amount:parseFloat(m.value),fromAccount:n.accounts.find(p=>p.number===l.value).id,toAccount:n.accounts.find(p=>p.number===x.value).id}),w()}function w(){m.value="",F.value="",n.settings.dragFields.toAccount||(x.value=""),n.settings.dragFields.docfield||(c.value=""),n.settings.dragFields.date||(r.value=""),n.settings.dragFields.toAccount||(l.value=""),n.settings.dragFields.bookingText||(S.value="")}return(p,s)=>(ce(),pe("div",zl,[O("div",Bl,[I($e,{modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=A=>m.value=A),outlined:"",dense:"",hint:"Betrag"},null,8,["modelValue"]),I(tt,{modelValue:F.value,"onUpdate:modelValue":s[1]||(s[1]=A=>F.value=A),hint:"Haben/Soll",options:M,style:{width:"90px"},outlined:"",dense:""},null,8,["modelValue"]),I(tt,{modelValue:x.value,"onUpdate:modelValue":s[2]||(s[2]=A=>x.value=A),options:de(n).getAccountNumbers,hint:"Gegenkonto",style:{width:"180px"},outlined:"",dense:""},null,8,["modelValue","options"]),I($e,{modelValue:c.value,"onUpdate:modelValue":s[3]||(s[3]=A=>c.value=A),hint:"Belegfeld",outlined:"",dense:""},null,8,["modelValue"]),I($e,{modelValue:r.value,"onUpdate:modelValue":s[4]||(s[4]=A=>r.value=A),hint:"Datum",outlined:"",dense:""},null,8,["modelValue"]),I(tt,{modelValue:l.value,"onUpdate:modelValue":s[5]||(s[5]=A=>l.value=A),options:de(n).getAccountNumbers,hint:"Konto",style:{width:"180px"},outlined:"",dense:""},null,8,["modelValue","options"]),I($e,{modelValue:S.value,"onUpdate:modelValue":s[6]||(s[6]=A=>S.value=A),hint:"Buchungstext",outlined:"",dense:""},null,8,["modelValue"]),I(il,{class:"q-ml-md",color:"primary",label:"Hinzuf\xFCgen",onClick:d})])]))}};var Ml=hl(Ol,[["__scopeId","data-v-1e3b9943"]]);const El={class:"q-pa-md row items-start q-gutter-md"},Dl=O("div",{class:"text-h6 text-grey-7"},"Saldo",-1),Hl={class:"text-h5 text-bold text-grey-7"},Tl=O("div",{class:"text-h6 text-grey-7"},"Haben",-1),Rl={class:"text-h5 text-bold text-green-6"},Ll=O("div",{class:"text-h6 text-grey-7"},"Soll",-1),Pl={class:"text-h5 text-bold text-red-6"},Nl={__name:"ActiveAccountCards",setup(e){const n=nt();return(r,m)=>(ce(),pe("div",El,[I(Je,{flat:"",bordered:"",class:"col text-center"},{default:P(()=>[I(re,null,{default:P(()=>[I(ie,null,{default:P(()=>[Dl]),_:1})]),_:1}),I(re,null,{default:P(()=>[I(ie,null,{default:P(()=>[O("div",Hl,te(de(n).getFormattedSaldoForActiveAccount),1)]),_:1})]),_:1})]),_:1}),I(Je,{flat:"",bordered:"",class:"col text-center"},{default:P(()=>[I(re,null,{default:P(()=>[I(ie,null,{default:P(()=>[Tl]),_:1})]),_:1}),I(re,null,{default:P(()=>[I(ie,null,{default:P(()=>[O("div",Rl,te(de(n).getFormattedSumHabenForActiveAccount),1)]),_:1})]),_:1})]),_:1}),I(Je,{flat:"",bordered:"",class:"col text-center"},{default:P(()=>[I(re,null,{default:P(()=>[I(ie,null,{default:P(()=>[Ll]),_:1})]),_:1}),I(re,null,{default:P(()=>[I(ie,null,{default:P(()=>[O("div",Pl,te(de(n).getFormattedSumSollForActiveAccount),1)]),_:1})]),_:1})]),_:1})]))}};const $l={class:"q-table"},Kl=O("thead",null,[O("tr",null,[O("th",null,"ID"),O("th",null,"Datum"),O("th",null,"Gegenkonto"),O("th",null,"Buchungstext"),O("th",null,"Belegfeld"),O("th",{colspan:"2"},"Betrag")])],-1),Ul={class:"text-center"},jl=O("td",null,null,-1),Ql=O("td",null,null,-1),Wl={class:"text-red betrag-haben-soll-td"},Xl={key:0},Gl={class:"text-green betrag-haben-soll-td"},Yl={key:0},nn={__name:"IndexPage",setup(e){const n=nt();function r(l){return n.activeAccount==l.fromAccount?n.accounts.find(x=>x.id==l.toAccount).name:n.accounts.find(x=>x.id==l.fromAccount).name}function m(){return n.activeAccount==="all"?n.transactions:n.transactions.filter(l=>l.fromAccount===n.activeAccount||l.toAccount===n.activeAccount)}function F(){return m().sort((l,x)=>new Date(l.date)-new Date(x.date))}return(l,x)=>(ce(),yl(jt,null,{default:P(()=>[I(Nl),O("table",$l,[Kl,O("tbody",Ul,[(ce(!0),pe(wl,null,bl(F(),c=>(ce(),pe("tr",{key:c.id},[O("td",null,te(c.id),1),O("td",null,te(new Date(c.date).toLocaleDateString("de-DE",{month:"2-digit",day:"2-digit",year:"numeric"})),1),O("td",null,te(r(c)),1),jl,Ql,O("td",Wl,[c.fromAccount==de(n).activeAccount?(ce(),pe("div",Xl,te(new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(c.amount))+" S ",1)):Vt("",!0)]),O("td",Gl,[c.toAccount==de(n).activeAccount?(ce(),pe("div",Yl,te(new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(c.amount))+" H ",1)):Vt("",!0)])]))),128))])]),I(Ml)]),_:1}))}};export{nn as default};
